@model OrderFood_SW.ViewModels.OrderPageModel
@{
    ViewBag.Title = "Create New Order";
    ViewBag.TableId = ViewBag.TableId ?? 0;
}

<div class="box box-primary">
    <div class="box-body">
        <h3 class="text-center"> <i class="fa fa-pencil"></i> Dish List | Select add to cart for table number: @ViewBag.TableId</h3>
        <form id="form-search" asp-action="Create" method="post">
            <div class="input-group">
                <input type="text" name="SearchKeyword" value="@Model.SearchKeyword" placeholder="Nhập tên món" class="form-control" />
                <div class="input-group-btn">
                    <button class="btn btn-default" type="submit" style="width:72px">
                        <i class="glyphicon glyphicon-search"></i>
                    </button>
                </div>
            </div>
        </form>
        <br
        <!-- List Of Dish table -->
        <div id="dish-list">
            @Html.Partial("_DishListPartial", Model.FoundDishes)
        </div>
        <!-- Dish List Pagination -->
        <div class="container" style="margin-top: auto; padding-bottom: 20px;">
            <div class="text-center">
                <ul class="pagination">
                    <!-- First Page -->
                    @if (ViewBag.CurrentPage > 1)
                    {
                        <li>
                            <a href="@Url.Action("Create", new { page = 1, searchKeyword = Model.SearchKeyword })">First</a>
                        </li>
                    }
                    else
                    {
                        <li class="disabled"><a href="#"> First </a></li>
                    }
                    <!-- Page Numbers -->
                    @for (int i = 1; i <= (int)ViewBag.TotalPages; i++)
                    {
                        if (i == ViewBag.CurrentPage)
                        {
                            <li class="active"><a href="#">@i</a></li>
                        }
                        else
                        {
                            <li><a href="@Url.Action("Create", new { page = i, searchKeyword = Model.SearchKeyword })">@i</a></li>
                        }
                    }
                    <!-- Last Page -->
                    @if (ViewBag.CurrentPage < (int)ViewBag.TotalPages)
                    {
                        <li>
                            <a href="@Url.Action("Create", new { page = ViewBag.TotalPages, searchKeyword = Model.SearchKeyword })">Last</a>
                        </li>
                    }
                    else
                    {
                        <li class="disabled"><a href="#"> Last </a></li>
                    }
                </ul>
            </div>
        </div>

        <hr />

        <h3 class="text-center"><i class="fa fa-shopping-cart"></i> Cart | show dishes ready to order</h3>
        <div id="cart-container">
            @Html.Partial("_CartPartial", Model.CartItems)
        </div>
    </div>
</div>

