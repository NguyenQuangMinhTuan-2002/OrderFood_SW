@model IEnumerable<OrderFood_SW.Models.Table>
@{
    ViewBag.Title = "Danh sách bàn";
}

<!-- Search Box -->
<div class="box box-primary">
    <div class="box-body">
        <form id="formsearch" method="get" action="~/Tables/Index">
            <div class="input-group">
                <input type="text" name="keyword" value="@ViewBag.Keyword" class="form-control" placeholder="Search by table number or description" />
                <div class="input-group-btn">
                    <button class="btn btn-default" type="submit">
                        <i class="glyphicon glyphicon-search"></i>
                    </button>
                    <a href="~/Tables/Create" class="btn btn-primary">
                        <i class="fa fa-plus"></i> Add
                    </a>
                </div>
            </div>
        </form>
    </div>
</div>

<!-- Search Result -->
<div class="table-responsive">
    <table class="table table-bordered table-striped table-hover">
        <thead>
            <tr class="bg-primary">
                <th>Table ID</th>
                <th>Table Number</th>
                <th>Status</th>
                <th>QR Code</th>
                <th>Table Description</th>
                <th style="width:95px"></th>
            </tr>
        </thead>
        <tbody>
            @foreach (var table in Model)
            {
                <tr>
                    <td>@table.TableId</td>
                    <td>@table.TableNumber</td>
                    <td>@table.Status</td>
                    <td>@table.QRCode</td>
                    <td>@table.Description</td>
                    <td>
                        <a href="~/Tables/Details/@table.TableId" class="btn btn-xs btn-success"><i class="fa fa-folder"></i></a>
                        <a href="~/Tables/Edit/@table.TableId" class="btn btn-xs btn-info"><i class="fa fa-edit"></i></a>
                        <a href="~/Tables/Delete/@table.TableId" class="btn btn-xs btn-danger"><i class="fa fa-trash"></i></a>
                    </td>
                </tr>
            }
        </tbody>
    </table>
</div>

<!-- Pagination -->
<div class="container" style="margin-top: auto; padding-bottom: 20px;">
    <div class="text-center">
        <ul class="pagination">

            <!-- First Page -->
            @if (ViewBag.CurrentPage > 1)
            {
                <li>
                    <a href="@Url.Action("Index", new { page = 1 })">First</a>
                </li>
            }
            else
            {
                <li class="disabled"><a href="#"> First </a></li>
            }

            <!-- Page Numbers -->
            @for (int i = 1; i <= (int)ViewBag.TotalPages; i++)
            {
                if (i == ViewBag.CurrentPage)
                {
                    <li class="active"><a href="#">@i</a></li>
                }
                else
                {
                    <li><a href="@Url.Action("Index", new { page = i })">@i</a></li>
                }
            }

            <!-- Last Page -->
            @if (ViewBag.CurrentPage < (int)ViewBag.TotalPages)
            {
                <li>
                    <a href="@Url.Action("Index", new { page = ViewBag.TotalPages })">Last</a>
                </li>
            }
            else
            {
                <li class="disabled"><a href="#"> Last </a></li>
            }

        </ul>

    </div>
</div>